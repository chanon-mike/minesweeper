(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(4326)}])},4326:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return J}});var l=n(5893),r=n(7294),a=n(9124),s=n.n(a);let i=e=>{let{x:t,y:n,val:r,onClick:a,handleContextMenu:i}=e;return(0,l.jsx)("div",{className:s().cell,onClick:()=>a(t,n),onContextMenu:e=>i(t,n,e),children:-1!==r&&(0===r?(0,l.jsx)("div",{className:s().square}):9===r||10===r?(0,l.jsx)("div",{className:s().square,children:(0,l.jsx)("div",{className:s().icon,style:{backgroundPosition:"".concat(-30*(r-1),"px")}})}):12===r?(0,l.jsx)("div",{className:s().icon,style:{backgroundPosition:"".concat(-270,"px")}}):(0,l.jsx)("div",{className:s().icon,style:{backgroundPosition:"".concat(-30*(r-1),"px")}}))})};var o=n(6619),c=n.n(o);let u=e=>{let{board:t,userInput:n,onCellClick:r,onContextMenu:a}=e;return(0,l.jsx)("div",{className:c().board,style:{minWidth:60*n[0].length,minHeight:60*n.length},children:t.map((e,t)=>e.map((e,n)=>(0,l.jsx)(i,{x:n,y:t,val:e,onClick:r,handleContextMenu:a},"".concat(n,"-").concat(t))))})};var h=n(9483),d=n.n(h);let _=e=>{let{userInput:t,displayNum:n,displayVal:r}=e;return"placeableFlagCount"===r?(0,l.jsxs)("div",{className:d().number,style:t[0].length<3?{display:"none"}:{left:10},children:[(0,l.jsx)("div",{className:d().backgroundNum,children:"888"}),(0,l.jsx)("span",{children:n.placeableFlagCount.charAt(0)}),(0,l.jsx)("span",{children:n.placeableFlagCount.charAt(1)}),(0,l.jsx)("span",{children:n.placeableFlagCount.charAt(2)})]}):"counterCount"===r?(0,l.jsxs)("div",{className:d().number,style:t[0].length<4?{display:"none"}:{right:10},children:[(0,l.jsx)("div",{className:d().backgroundNum,children:"888"}),(0,l.jsx)("span",{children:n.counterCount.charAt(0)}),(0,l.jsx)("span",{children:n.counterCount.charAt(1)}),(0,l.jsx)("span",{children:n.counterCount.charAt(2)})]}):null};var p=n(8971),g=n.n(p);let f=e=>{let{restartGame:t,userInput:n,faceValue:r}=e;return(0,l.jsx)("button",{onClick:t,className:g().restart,style:n[0].length<6?{display:"none"}:{backgroundPosition:"".concat(-44.925*r,"px")}})};var x=n(1014),m=n.n(x);let N=e=>{let{userInput:t,displayNum:n,faceValue:r,restartGame:a}=e;return(0,l.jsxs)("div",{className:m().header,style:t[0].length<3?{display:"none"}:{display:"flex"},children:[(0,l.jsx)(_,{userInput:t,displayNum:n,displayVal:"placeableFlagCount"}),(0,l.jsx)(f,{restartGame:a,userInput:t,faceValue:r}),(0,l.jsx)(_,{userInput:t,displayNum:n,displayVal:"counterCount"})]})};var b=n(3193),j=n.n(b);let y=e=>{let{boardSize:t,setBoardSize:n,handleSizeUpdate:r}=e;return(0,l.jsxs)("form",{children:[(0,l.jsxs)("label",{children:["Width:",(0,l.jsx)("input",{type:"number",className:j().sizeInput,value:t.width,onChange:e=>n(t=>({...t,width:parseInt(e.target.value)}))})]}),(0,l.jsxs)("label",{children:["Height:",(0,l.jsx)("input",{type:"number",className:j().sizeInput,value:t.height,onChange:e=>n(t=>({...t,height:parseInt(e.target.value)}))})]}),(0,l.jsx)("button",{type:"button",onClick:r,children:"Update Size"})]})},v=e=>Array.from({length:e.height},()=>Array(e.width).fill(0)),C=(e,t,n)=>{for(let l=0;l<e.length;l++)for(let r=0;r<e[0].length;r++){let a=S(r,l,e,t);0===a&&n.push([r,l])}return n},k=[[-1,0],[-1,1],[0,1],[1,1],[1,0],[1,-1],[0,-1],[-1,-1]],S=(e,t,n,l)=>{let r=0;for(let[a,s]of k){let i=e+a,o=t+s;i>=0&&i<n[0].length&&o>=0&&o<n.length&&1===l[o][i]&&r++}return r},w=(e,t,n,l,r,a)=>{if(e<0||e>=n[0].length||t<0||t>=n.length||0!==r[t][e]||1===l[t][e])return;let s=S(e,t,n,l);if(r[t][e]=s||-1,0===s&&a.some(n=>n[0]===e&&n[1]===t))for(let[s,i]of k)w(e+s,t+i,n,l,r,a)},A=(e,t,n,l)=>{for(let r=0;r<t.length;r++)for(let a=0;a<t[0].length;a++)1===n[r][a]&&(l[r][a]=e)},I=(e,t,n,l)=>{let r=e.length,a=e[0].length;n=Array.from({length:r},()=>Array(a).fill(0));for(let s=0;s<r;s++)for(let r=0;r<a;r++)switch(e[s][r]){case 1:1===t[s][r]?A(11,e,t,n):w(r,s,e,t,n,l);break;case 2:n[s][r]=10;break;case 3:n[s][r]=9}return n},M=(e,t,n,l,r,a)=>{let s=JSON.parse(JSON.stringify(r)),i=0;for(;i!==l;){let l=Math.floor(Math.random()*n[0].length),r=Math.floor(Math.random()*n.length);for(;l===e&&r===t;)l=Math.floor(Math.random()*n[0].length),r=Math.floor(Math.random()*n.length);s[r][l]=1,i=s.flat().filter(e=>1===e).length}a(s)};var O=n(2729),z=n.n(O);let F={width:8,height:8},q=v(F),E=v(F),P=()=>{let[e,t]=(0,r.useState)(F),[n,a]=(0,r.useState)(q),[s,i]=(0,r.useState)(E),[o,c]=(0,r.useState)(0),h=[],d=[];d=C(n,s,d),h=I(n,s,h,d);let _=n.some(e=>e.some(e=>0!==e)),p=n.some((e,t)=>e.some((e,n)=>1===e&&1===s[t][n])),g=n.every(e=>e.every(e=>1!==e)),f=h.flat().filter(e=>0!==e&&e<9).length+10===n.length*n[0].length,x=10-h.flat().filter(e=>10===e).length,m={placeableFlagCount:"000".concat((x>999?999:x).toString()).slice(-3),counterCount:"000".concat(o.toString()).slice(-3)};f&&A(12,n,s,h),(0,r.useEffect)(()=>{if(o<999){let e=_&&!p&&!f&&setTimeout(()=>c(o+1),1e3);return()=>clearInterval(e)}},[o,_,p,f]);let b=(e,t)=>{if(g&&(M(e,t,n,10,s,i),c(0)),0===h[t][e]&&!p){let l=JSON.parse(JSON.stringify(n));l[t][e]=1,a(l)}},j=(e,t,l)=>{l.preventDefault();let r=JSON.parse(JSON.stringify(n));p||(0===h[t][e]?r[t][e]=2:2===n[t][e]?r[t][e]=3:3!==n[t][e]||(r[t][e]=0)),a(r)},k=()=>{let t={width:e.width,height:e.height},n=v(t);h=n,a(n),i(n),c(0)},S=()=>{let t={width:e.width,height:e.height},n=v(t),l=v(t);a(n),i(l)};return(0,l.jsxs)("div",{className:z().container,children:[(0,l.jsx)(y,{boardSize:e,setBoardSize:t,handleSizeUpdate:S}),(0,l.jsxs)("div",{className:z().minesweeper,children:[(0,l.jsx)(N,{userInput:n,displayNum:m,restartGame:k,faceValue:f?12:p?13:11}),(0,l.jsx)(u,{board:h,userInput:n,onCellClick:b,onContextMenu:j})]})]})};var J=P},6619:function(e){e.exports={board:"Board_board__O2hAA"}},9124:function(e){e.exports={cell:"Cell_cell__itgBu",square:"Cell_square___RSZH",icon:"Cell_icon__oSyIH"}},9483:function(e){e.exports={number:"Counter_number__hjZpL",backgroundNum:"Counter_backgroundNum___XNgR"}},1014:function(e){e.exports={header:"Header_header__D4RXM"}},8971:function(e){e.exports={restart:"RestartButton_restart__sG_9f"}},3193:function(e){e.exports={sizeInput:"UpdateSizeForm_sizeInput__G65LV"}},2729:function(e){e.exports={container:"index_container__gnN1f",main:"index_main__kAcUb",footer:"index_footer__qq_p6",title:"index_title__gEapU",description:"index_description__087sm",code:"index_code__VeCgy",grid:"index_grid__FmmIe",card:"index_card__kAxi6",logo:"index_logo__FcDOZ",minesweeper:"index_minesweeper__1qO6P"}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);